<div class="users-grid">
  <div class="user-card" *ngFor="let venue of venues">
    <div class="card-header">
      <div class="user-avatar" style="background: #10b98120;">
        <span nz-icon nzType="home" style="font-size: 24px; color: #10b981;"></span>
      </div>
      <div class="card-actions">
        <button 
          nz-button 
          nzType="text" 
          nzSize="small"
          (click)="showModal(venue)"
          title="Editar">
          <span nz-icon nzType="edit"></span>
        </button>
        <button 
          nz-button 
          nzType="text" 
          nzDanger
          nzSize="small"
          nz-popconfirm
          nzPopconfirmTitle="¿Eliminar este venue?"
          nzPopconfirmPlacement="topRight"
          (nzOnConfirm)="deleteVenue(venue.id!)"
          title="Eliminar">
          <span nz-icon nzType="delete"></span>
        </button>
      </div>
    </div>
    <div class="card-body">
      <h3 class="user-name">{{ venue.nombre }}</h3>
      <div class="user-info">
        <div class="info-item">
          <span nz-icon nzType="environment" class="info-icon"></span>
          <span>{{ venue.direccion }}</span>
        </div>
        <div class="info-item">
          <span nz-icon nzType="team" class="info-icon"></span>
          <span class="cargo-badge">Capacidad: {{ venue.capacidad }}</span>
        </div>
        <div class="info-item" *ngIf="venue.descripcion">
          <span nz-icon nzType="info-circle" class="info-icon"></span>
          <span>{{ venue.descripcion }}</span>
        </div>
      </div>
    </div>
  </div>
</div>

<div *ngIf="!loading && venues.length === 0" class="empty-state">
  <span nz-icon nzType="inbox" style="font-size: 64px; color: #666;"></span>
  <h3>No hay venues</h3>
  <p>Comienza agregando tu primer venue</p>
  <button nz-button nzType="primary" (click)="showModal()">
    <span nz-icon nzType="plus"></span>
    Crear Venue
  </button>
</div>

<nz-modal
  [(nzVisible)]="isModalVisible"
  [nzTitle]="isEditMode ? 'Editar Venue' : 'Nuevo Venue'"
  (nzOnCancel)="handleCancel()"
  (nzOnOk)="handleOk()"
  nzWidth="500px">
  <ng-container *nzModalContent>
    <form nz-form nzLayout="vertical">
      <nz-form-item>
        <nz-form-label nzRequired>Nombre del Venue</nz-form-label>
        <nz-form-control>
          <input 
            nz-input 
            [(ngModel)]="currentVenue.nombre" 
            name="nombre"
            placeholder="Ej: Centro de Convenciones" />
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label nzRequired>Dirección</nz-form-label>
        <nz-form-control>
          <input 
            nz-input 
            [(ngModel)]="currentVenue.direccion" 
            name="direccion"
            placeholder="Ej: Av. Principal 123" />
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label nzRequired>Capacidad</nz-form-label>
        <nz-form-control>
          <nz-input-number 
            [(ngModel)]="currentVenue.capacidad" 
            name="capacidad"
            [nzMin]="1"
            [nzMax]="100000"
            style="width: 100%"
            placeholder="Ej: 500">
          </nz-input-number>
        </nz-form-control>
      </nz-form-item>

      <nz-form-item>
        <nz-form-label>Descripción</nz-form-label>
        <nz-form-control>
          <textarea 
            nz-input 
            [(ngModel)]="currentVenue.descripcion" 
            name="descripcion"
            rows="3"
            placeholder="Descripción del venue (opcional)"></textarea>
        </nz-form-control>
      </nz-form-item>
    </form>
  </ng-container>
</nz-modal>
